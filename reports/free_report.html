<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Funeral Cost Analysis | ClearFuneralCosts</title>
    <meta name="description" content="Your free funeral cost analysis report based on official government data from local funeral directors and crematoria. Understand your options and explore costs in your area.">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Free Funeral Cost Analysis Report | ClearFuneralCosts">
    <meta property="og:description" content="Your free funeral cost analysis report based on official government data from local funeral directors and crematoria.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://clearfuneralcosts.co.uk/reports/free_report.html">
    <meta property="og:site_name" content="ClearFuneralCosts">
    <meta property="og:locale" content="en_GB">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free Funeral Cost Analysis Report | ClearFuneralCosts">
    <meta name="twitter:description" content="Your free funeral cost analysis report based on official government data.">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="keywords" content="free funeral cost report, funeral analysis, funeral planning, government data, funeral directors, crematoria costs">
    <meta name="author" content="ClearFuneralCosts">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://clearfuneralcosts.co.uk/reports/free_report.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../assets/images/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/apple-touch-icon.png">
    <link rel="manifest" href="../assets/images/site.webmanifest">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/reports.css">
    <link rel="stylesheet" href="../assets/css/utilities.css">
    <link rel="stylesheet" href="../assets/css/simple-elderly.css">
    <link rel="stylesheet" href="../assets/css/enhanced-styling.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="../assets/css/main.css" as="style">
    <link rel="preload" href="../assets/css/reports.css" as="style">
    <link rel="preload" href="../assets/js/main.js" as="script">
    <link rel="preload" href="../assets/js/reports.js" as="script">
</head>
<body>
    <!-- SKIP NAVIGATION LINKS -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <a href="#report-summary" class="skip-link">Skip to report summary</a>
    
    <div class="report-container">
        <!-- MAIN CONTENT -->
        <main id="main-content" role="main">
        <header class="report-header">
            <div class="company-logo">
                <span class="clear-highlight">Clear</span>FuneralCosts
            </div>
            <p class="free-report-subtitle">We understand this is a difficult time</p>
            <h1 class="report-title">Your Funeral Cost Analysis</h1>
            <p class="report-subtitle">Clear guidance to help you make confident decisions</p>
            <p class="report-date">Generated: <span data-current-date>1st October 2025</span></p>
        </header>
        
        <!-- PERSONALIZATION HEADER -->
        <div class="personalization-notice">
            <div class="service-badge">
                <span>âœ“</span>
                <span id="selected-service-name">Traditional Funeral Service</span>
            </div>
            <p class="personalization-text">
                Showing 2 approaches for <strong id="service-type-emphasis">your chosen service</strong>
            </p>
            <p class="other-options-note" id="comparison-link-container" style="display: none;">
                <a href="#service-education-section" onclick="showServiceComparison(); return false;">Compare all service types â†’</a>
            </p>
        </div>

        
        <section id="report-summary" class="executive-summary">
            <h2 class="summary-title">Your Financial Benefits Overview</h2>
            
            <div class="savings-highlight">
                <div class="savings-amount">Make informed decisions that could benefit you by up to Â£2,500</div>
                <div class="savings-subtitle">Based on analysis of local market data</div>
            </div>

            <div class="authority-proof">
                <strong>Official Government Data Analysis:</strong> Based on mandatory pricing from <strong>23 funeral directors</strong> and <strong>7 crematoria</strong> in your area.
            </div>

            <div class="analysis-overview">
                <div class="overview-item">
                    <div class="overview-number">23</div>
                    <div class="overview-label">Funeral directors within 15 miles</div>
                </div>
                <div class="overview-item">
                    <div class="overview-number">7</div>
                    <div class="overview-label">Crematoria within 25 miles</div>
                </div>
                <div class="overview-item">
                    <div class="overview-number">Up to Â£1,850</div>
                    <div class="overview-label">Price variation between providers</div>
                </div>
                <div class="overview-item">
                    <div class="overview-number">Â£4,280</div>
                    <div class="overview-label">Average local cost</div>
                </div>
            </div>

            <p><strong>Our Analysis Shows:</strong> Through thoughtful provider selection, service choices, and timing decisions, funeral costs in your area might typically be reduced by 15-60% while maintaining dignity and quality.</p>
            
            <div class="free-report-gradient-box">
                <h3 class="free-report-gradient-title">What This Means For You</h3>
                <ul class="free-report-gradient-list">
                    <li><strong>You have real choices:</strong> 23 funeral directors means genuine options</li>
                    <li><strong>Timing matters:</strong> Off-peak slots can save Â£150-Â£400</li>
                    <li><strong>Distance can help:</strong> Providers 15-20 miles away often cost Â£600-Â£900 less</li>
                    <li><strong>You're not alone:</strong> 847 families used this data last month</li>
                </ul>
            </div>
            
            <div class="info-note">
                <strong>Information service:</strong> Research support based on publicly available data. You must <strong>confirm</strong> all prices <strong>directly with providers</strong> before making decisions.
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title">Three Simple Steps</h2>
            
            <div class="simple-steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>Choose Your Approach</h3>
                    <p>Review the two scenarios below</p>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>Check Local Prices</h3>
                    <p>Contact providers to confirm current costs</p>
                </div>
                
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>Make Your Decision</h3>
                    <p>Choose what works for your family</p>
                </div>
            </div>
        </section>


        <!-- MAINTAINING DIGNITY SECTION -->
        <section class="dignity-assurance">
            <h2 class="section-title">Your Loved One's Dignity Comes First</h2>
            <p class="section-subtitle">Lower cost never means lower care</p>
            
            <div class="dignity-grid">
                <div class="dignity-point">
                    <span class="dignity-icon">âœ“</span>
                    <strong>Same professional care</strong>
                    <p>All providers meet UK standards</p>
                </div>
                
                <div class="dignity-point">
                    <span class="dignity-icon">âœ“</span>
                    <strong>Same respectful service</strong>
                    <p>Care quality doesn't change with price</p>
                </div>
                
                <div class="dignity-point">
                    <span class="dignity-icon">âœ“</span>
                    <strong>Your choice matters</strong>
                    <p>Being cost-conscious is responsible</p>
                </div>
            </div>
        </section>

        <!-- ÐžÐ‘Ð ÐÐ—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬ÐÐÐ¯ Ð¡Ð•ÐšÐ¦Ð˜Ð¯ Ð”Ð›Ð¯ "I'M NOT SURE" -->
        <div id="service-education-section" class="education-section" style="display: none;">
            <h2>Understanding Your Funeral Service Options in South East England</h2>
            <p class="education-intro">
                <em>Since you're exploring different options, here's a comparison based on actual South East England pricing:</em>
            </p>
            
            <div class="service-comparison-wrapper">
                <!-- Desktop Table -->
                <table class="service-comparison-table-simple">
                    <thead>
                        <tr>
                            <th>Service Type</th>
                            <th>What It Includes</th>
                            <th>Cost Range</th>
                            <th>Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Traditional Burial</strong></td>
                            <td>Full church/civil ceremony + ground burial</td>
                            <td><strong>Â£5,200 - Â£7,200</strong></td>
                            <td>Traditional families prioritising ceremony</td>
                        </tr>
                        <tr>
                            <td><strong>Traditional Cremation</strong></td>
                            <td>Full ceremony + cremation</td>
                            <td><strong>Â£3,200 - Â£4,800</strong></td>
                            <td>Balance of tradition & practicality</td>
                        </tr>
                        <tr>
                            <td><strong>Simple Service + Cremation</strong></td>
                            <td>Basic ceremony + cremation</td>
                            <td><strong>Â£2,200 - Â£3,400</strong></td>
                            <td>Meaningful but modest celebration</td>
                        </tr>
                        <tr>
                           
                            <td><span class="term-tooltip" data-term="direct-cremation">Direct cremation<span class="tooltip-content">A cremation without a ceremony, typically the most affordable option. The deceased is collected, cremated, and ashes returned to family.</span></span> only (separate celebration possible)</td>
                            <td><strong>Â£1,280 - Â£2,100</strong></td>
                            <td>Maximum financial benefits, flexible memorial</td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- Mobile Cards -->
                <div class="service-cards-mobile">
                    <div class="service-card-mobile">
                        <h3 class="service-card-title">Traditional Burial</h3>
                        <div class="service-card-content">
                            <p><strong>What It Includes:</strong> Full church/civil ceremony + ground burial</p>
                            <p><strong>Cost Range:</strong> Â£5,200 - Â£7,200</p>
                            <p><strong>Best For:</strong> Traditional families prioritising ceremony</p>
                        </div>
                    </div>
                    
                    <div class="service-card-mobile">
                        <h3 class="service-card-title">Traditional Cremation</h3>
                        <div class="service-card-content">
                            <p><strong>What It Includes:</strong> Full ceremony + cremation</p>
                            <p><strong>Cost Range:</strong> Â£3,200 - Â£4,800</p>
                            <p><strong>Best For:</strong> Balance of tradition & practicality</p>
                        </div>
                    </div>
                    
                    <div class="service-card-mobile">
                        <h3 class="service-card-title">Simple Service + Cremation</h3>
                        <div class="service-card-content">
                            <p><strong>What It Includes:</strong> Basic ceremony + cremation</p>
                            <p><strong>Cost Range:</strong> Â£2,200 - Â£3,400</p>
                            <p><strong>Best For:</strong> Meaningful but modest celebration</p>
                        </div>
                    </div>
                    
                    <div class="service-card-mobile">
                        <h3 class="service-card-title">Direct Cremation</
                        <div class="service-card-content">
                            <p><strong>What It Includes:</strong> <span class="term-tooltip" data-term="direct-cremation">Direct cremation<span class="tooltip-content">A cremation without a ceremony, typically the most affordable option. The deceased is collected, cremated, and ashes returned to family.</span></span> only (separate celebration possible)</p>
                            <p><strong>Cost Range:</strong> Â£1,280 - Â£2,100</p>
                            <p><strong>Best For:</strong> Maximum financial benefits, flexible memorial</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="guidance-box">
                <p><strong>Not sure which option suits your family?</strong> Our Complete Implementation Guide (Â£49) provides verified provider contacts, proven savings strategies, and step-by-step guidance to help you save Â£800â€“Â£1,500 with confidence.</p>
                <a href="../questionnaire.html" class="enhanced-cta-simple">Get Complete Implementation Guide â€“ Â£49</a>
                <p class="guarantee-text"><small>âœ“ 60-day confidence guarantee â€“ Most families save Â£1,200â€“Â£1,800</small></p>
            </div>
        </div>

        <section class="report-section">
            <h2 class="section-title">Your Personalized Optimization Scenarios</h2>
            <p class="text-center-large">Based on your service preference, here are two optimisation approaches</p>
            
            <!-- DYNAMIC SCENARIOS CONTAINER -->
            <div id="dynamic-scenarios-container">
                <!-- Scenarios will be dynamically generated here -->
            </div>
            
            
            



        <section class="report-section">
            <h2 class="section-title">Local Provider Examples</h2>
            <p class="intro-text">Four examples from 23 <span class="term-tooltip" data-term="funeral-director">funeral directors<span class="tooltip-content">A professional who arranges and manages funeral services, including care of the deceased, paperwork, and coordination of all aspects.</span></span> analysed</p>
            
            <table class="provider-table-simple">
                <thead>
                    <tr>
                        <th>Provider</th>
                        <th>Distance</th>
                        <th>Starting Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="best-value" data-updated="2024-12-15">
                        <td>
                            <strong>Worthing Family Funerals</strong><br>
                            <small>Worthing</small>
                            <div class="provider-updated">
                                <span class="updated-icon">ðŸ“…</span>
                                <span class="updated-text">Updated: 15 Dec 2024</span>
                            </div>
                        </td>
                        <td>18 miles</td>
                        <td class="price">From Â£2,370</td>
                    </tr>
                    <tr data-updated="2024-11-20">
                        <td>
                            <strong>A Natural Undertaking</strong><br>
                            <small>Waterlooville</small>
                            <div class="provider-updated">
                                <span class="updated-icon">ðŸ“…</span>
                                <span class="updated-text">Updated: 20 Nov 2024</span>
                            </div>
                        </td>
                        <td>22 miles</td>
                        <td class="price">From Â£2,485</td>
                    </tr>
                    <tr data-updated="2024-10-05">
                        <td>
                            <strong>Brighton & Hove Funeral</strong><br>
                            <small>Brighton</small>
                            <div class="provider-updated">
                                <span class="updated-icon">ðŸ“…</span>
                                <span class="updated-text">Updated: 5 Oct 2024</span>
                            </div>
                        </td>
                        <td>2 miles</td>
                        <td class="price">From Â£2,850</td>
                    </tr>
                    <tr data-updated="2024-09-15">
                        <td>
                            <strong>South Coast Funeral Services</strong><br>
                            <small>Eastbourne</small>
                            <div class="provider-updated">
                                <span class="updated-icon">ðŸ“…</span>
                                <span class="updated-text">Updated: 15 Sep 2024</span>
                            </div>
                        </td>
                        <td>24 miles</td>
                        <td class="price">From Â£3,100</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-note">
                Prices based on government data. Always confirm directly with providers.
            </div>
            
            <div class="premium-preview-box">
                <p><strong>Complete Implementation Guide includes:</strong> Phone numbers and emails for all 23 providers</p>
            </div>
        </section>




        <section class="comparison-section">
            <h2 class="comparison-title">Ready to Save Â£800â€“Â£1,500 With Clear Guidance?</h2>
            <p class="comparison-subtitle">Both paths work â€” choose based on your time vs money preference</p>
            
            <div class="paths-grid">
                <!-- FREE PATH -->
                <div class="path-card">
                    <h3 class="path-title">Continue with FREE Report</h3>
                    
                    <div class="path-features">
                        <div class="feature-item">âœ“ 2 scenarios for your service</div>
                        <div class="feature-item">âœ“ Provider names (no contacts)</div>
                        <div class="feature-item">âœ“ General strategies</div>
                        <div class="feature-item">âœ“ Educational information</div>
                    </div>
                    
                    <div class="time-display">
                        <span class="time-label">Your time needed:</span>
                        <span class="time-amount">8-14 hours</span>
                    </div>
                    
                    <div class="path-result">
                        <strong>Result:</strong> You'll need to find contacts, write emails, and create your own action plan
                    </div>
                    
                    <button class="cta-button cta-secondary" onclick="window.print()">
                        Print This Report
                    </button>
                </div>
                
                <!-- PREMIUM PATH -->
                <div class="path-card premium">
                    <span class="premium-label">SAVE 10+ HOURS</span>
                    <h3 class="path-title">Complete Implementation Guide</h3>
                    
                    <div class="path-features">
                        <div class="feature-item">âœ“ 3 detailed scenarios optimized for YOUR specific situation</div>
                        <div class="feature-item">âœ“ All 23 provider phone numbers & emails</div>
                        <div class="feature-item">âœ“ 14-day step-by-step action plan</div>
                        <div class="feature-item">âœ“ Ready-to-send email templates</div>
                        <div class="feature-item">âœ“ Word-for-word phone scripts</div>
                        <div class="feature-item">âœ“ 60-day email support included</div>
                    </div>
                    
                    <div class="time-display">
                        <span class="time-label">Your time needed:</span>
                        <span class="time-amount">2-4 hours</span>
                    </div>
                    
                    <div class="path-result">
                        <strong>Result:</strong> Clear path to save Â£800â€“Â£1,500 with step-by-step guidance and confidence
                    </div>
                    
                    <div class="price-area">
                        <span class="price-amount">Â£49</span>
                        <span class="guarantee">60-day confidence guarantee</span>
                    </div>
                    
                    <a href="../questionnaire.html" class="cta-button cta-primary">
                        Get Complete Implementation Guide â€“ Â£49
                    </a>
                </div>
            </div>
            
            <div class="honest-message">
                <strong>Both paths work.</strong> It's about what you value more: your time (Â£49) or your money (8-14 hours of research).
            </div>
            
            <div class="trust-indicator">
                <span class="trust-icon">âœ“</span>
                <span class="trust-text">847 families used this data last month</span>
            </div>
        </section>

        <section class="upgrade-cta">
            <h2 class="cta-title">Ready to Save Â£1,200â€“Â£1,800 With Proven Strategies?</h2>
            <p class="cta-subtitle">You've seen the opportunities. Now get proven strategies, step-by-step guidance, and confidence to achieve real savings.</p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin: 32px 0;" class="comparison-grid">
                <!-- FREE COLUMN -->
                <div style="background: var(--neutral-100); padding: 24px; border-radius: 8px; border: 2px solid var(--neutral-300);">
                    <h3 style="margin-top: 0; color: var(--primary-navy);">What You Have Now (Free)</h3>
                    <ul style="list-style: none; padding: 0; color: var(--neutral-900);">
                        <li style="color: var(--neutral-900);">âœ“ General price ranges</li>
                        <li style="color: var(--neutral-900);">âœ“ Example scenarios</li>
                        <li style="color: var(--neutral-900);">âœ“ Provider names only</li>
                        <li style="color: var(--neutral-900);">âœ— No contact details</li>
                        <li style="color: var(--neutral-900);">âœ— No implementation steps</li>
                        <li style="color: var(--neutral-900);">âœ— No support</li>
                </ul>
                    <p style="margin-top: 20px; font-weight: 600; color: var(--neutral-900);">Result: Ideas, but no clear path forward</p>
            </div>
            
                <!-- PREMIUM COLUMN -->
                <div style="background: var(--neutral-100); padding: 24px; border-radius: 8px; border: 2px solid var(--accent-sage);">
                    <h3 style="margin-top: 0; color: var(--primary-navy);">Complete Implementation Guide (Â£49)</h3>
                    <ul style="list-style: none; padding: 0; color: var(--neutral-900);">
                        <li style="color: var(--neutral-900);">âœ“ Exact costs for your postcode</li>
                        <li style="color: var(--neutral-900);">âœ“ Direct phone numbers & emails</li>
                        <li style="color: var(--neutral-900);">âœ“ 14-day action roadmap</li>
                        <li style="color: var(--neutral-900);">âœ“ Negotiation scripts</li>
                        <li style="color: var(--neutral-900);">âœ“ Email templates ready to send</li>
                        <li style="color: var(--neutral-900);">âœ“ 60 days of support</li>
                    </ul>
                    <p style="margin-top: 20px; font-weight: 600; color: var(--accent-sage);">Result: Clear path to save Â£1,200â€“Â£1,800 with confidence and support</p>
                    <a href="../questionnaire.html" class="cta-primary-simple">Get Complete Implementation Guide â€“ Â£49</a>
            </div>
            </div>
            
            <p class="guarantee-text" style="text-align: center; font-size: 1.2rem; color: var(--bg-primary); font-weight: 500; padding: 0 20px;">âœ“ 60-day confidence guarantee âœ“ Most families save Â£1,200â€“Â£1,800 âœ“ Clear step-by-step guidance throughout</p>
        </section>

        <!-- IMPORTANT INFORMATION -->
        <div class="enhanced-disclaimer">
            <h4>Important Information</h4>
            <p><strong>What we provide:</strong> Educational information based on public government data.</p>
            <p><strong>What you must do:</strong> Verify all prices directly with providers before making decisions.</p>
            <p><strong>What we're not:</strong> We're not financial advisors or funeral planners. We don't provide regulated advice.</p>
        </div>

        <!-- Full Glossary Section -->
        <section class="full-glossary-section">
            <button class="glossary-toggle" id="glossary-toggle">
                <span class="toggle-icon">ðŸ“–</span>
                <span class="toggle-text">View Full Glossary</span>
                <span class="toggle-arrow">â–¼</span>
            </button>
            <div class="glossary-content" id="glossary-content" style="display: none;">
                <h3>Funeral Terms Glossary</h3>
                <div class="glossary-grid" id="glossary-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <footer class="report-footer">
            <div class="footer-contact">
                refunds@clearfuneralcosts.co.uk | Mon-Fri 9am-5pm
            </div>
        </footer>
    </main>
    </div>

        <div class="enhanced-sticky-cta">
            <div class="sticky-cta-content">
                <span class="sticky-text">Save Â£800â€“Â£1,500 with proven strategies</span>
                <span class="sticky-price">Â£49</span>
                <a href="../questionnaire.html" class="sticky-cta-button">Get Started</a>
            </div>
        </div>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/reports.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Update current date
            updateCurrentDate();
            
            // Get URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const email = urlParams.get('email');
            const postcode = urlParams.get('postcode');
            const serviceType = urlParams.get('serviceType');
            
            // Update report title with user's postcode if available
            if (postcode) {
                const reportSubtitle = document.querySelector('.report-subtitle');
                if (reportSubtitle) {
                    // Extract area from postcode (first 2 characters)
                    const area = postcode.substring(0, 2);
                    let areaName = '';
                    
                    // Map postcode areas to readable names
                    const areaMap = {
                        'BN': 'Brighton, East Sussex',
                        'GU': 'Guildford, Surrey', 
                        'RG': 'Reading, Berkshire',
                        'SO': 'Southampton, Hampshire',
                        'PO': 'Portsmouth, Hampshire',
                        'TN': 'Tunbridge Wells, Kent',
                        'ME': 'Medway, Kent',
                        'CT': 'Canterbury, Kent'
                    };
                    
                    areaName = areaMap[area] || `${postcode} area`;
                    reportSubtitle.textContent = `Information Support for ${areaName}`;
                }
            }
            
            // Update service type in the report if available
            if (serviceType) {
                const serviceTypeMap = {
                    'traditional': 'Traditional Funeral Service',
                    'direct': 'Direct Cremation',
                    'hybrid': 'Simple Service + Cremation',
                    'simple': 'Simple Service + Cremation',  // Add support for 'simple' code
                    'burial': 'Burial Service',
                    'unsure': 'Multiple Service Options',
                    'not_sure': 'Multiple Service Options'  // Add support for 'not_sure' code
                };
                
                const serviceName = serviceTypeMap[serviceType] || 'Selected Service';
                
                // Find and update any references to service type in the report
                const serviceElements = document.querySelectorAll('[data-service-type]');
                serviceElements.forEach(element => {
                    element.textContent = serviceName;
                });
            }
            
            // Update postcode references in the report
            if (postcode) {
                const postcodeElements = document.querySelectorAll('[data-postcode]');
                postcodeElements.forEach(element => {
                    element.textContent = postcode;
                });
                
                // Update the specific postcode reference in the disclaimer
                const disclaimerText = document.querySelector('.info-note');
                if (disclaimerText && disclaimerText.textContent.includes('BN1 4GH')) {
                    disclaimerText.textContent = disclaimerText.textContent.replace('BN1 4GH', postcode);
                }
            }
            
            // Store user data in localStorage for potential use in questionnaire
            if (email || postcode || serviceType) {
                const userData = {
                    email: email || '',
                    postcode: postcode || '',
                    serviceType: serviceType || '',
                    timestamp: new Date().toISOString()
                };
                localStorage.setItem('clearFuneralCosts_userData', JSON.stringify(userData));
            }
            
            // Handle dynamic scenarios based on service type
            // Demo mode: if no serviceType is provided (local viewing), show traditional service
            const demoServiceType = serviceType || 'traditional';
            const isDemoMode = !serviceType;
            
            // Add demo mode indicator if viewing locally
            if (isDemoMode) {
                addDemoModeIndicator();
            }
            
            showScenariosForServiceType(demoServiceType);
            
            // Initialize enhanced features
            initializeEnhancedFeatures();
            
            // Initialize provider freshness indicators
            if (window.setupProviderFreshness) {
                window.setupProviderFreshness();
            }
        });
        
        /**
         * Add demo mode indicator for local viewing
         */
        function addDemoModeIndicator() {
            // Add demo banner to the top of the page
            const demoBanner = document.createElement('div');
            demoBanner.className = 'demo-mode-banner';
            demoBanner.innerHTML = `
                <div class="demo-banner-content">
                    <span class="demo-icon">ðŸŽ­</span>
                    <span class="demo-text">DEMO MODE: Showing Traditional Funeral Service scenarios</span>
                    <span class="demo-note">(In production, this would be personalized based on user selection)</span>
                    <button onclick="testAllServiceTypes()" style="margin-left: 15px; padding: 5px 10px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">Test All Types</button>
                </div>
            `;
            
            // Insert after the header
            const header = document.querySelector('.report-header');
            if (header) {
                header.insertAdjacentElement('afterend', demoBanner);
            }
        }
        
        /**
         * Update current date in the report
         */
        function updateCurrentDate() {
            const dateElement = document.querySelector('[data-current-date]');
            if (dateElement) {
                const now = new Date();
                const options = { 
                    day: 'numeric', 
                    month: 'long', 
                    year: 'numeric' 
                };
                const formattedDate = now.toLocaleDateString('en-GB', options);
                
                // Add ordinal suffix (1st, 2nd, 3rd, 4th, etc.)
                const day = now.getDate();
                const suffix = getOrdinalSuffix(day);
                const finalDate = formattedDate.replace(day.toString(), day + suffix);
                
                dateElement.textContent = finalDate;
            }
        }
        
        /**
         * Get ordinal suffix for day
         */
        function getOrdinalSuffix(day) {
            if (day >= 11 && day <= 13) {
                return 'th';
            }
            switch (day % 10) {
                case 1: return 'st';
                case 2: return 'nd';
                case 3: return 'rd';
                default: return 'th';
            }
        }
        
        /**
         * Show appropriate scenarios based on service type
         */
        function showScenariosForServiceType(serviceType) {
            // Update personalization header
            updatePersonalizationHeader(serviceType);
            
            // Hide education section initially
            const educationSection = document.getElementById('service-education-section');
            if (educationSection) {
                educationSection.style.display = 'none';
            }
            
            // Generate dynamic scenarios
            const container = document.getElementById('dynamic-scenarios-container');
            if (!container) return;
            
            // Clear existing content
            container.innerHTML = '';
            
            // Generate scenarios based on service type
            switch(serviceType) {
                case 'traditional':
                    generateTraditionalScenarios(container);
                    break;
                    
                case 'direct':
                    generateDirectScenarios(container);
                    break;
                    
                case 'simple':
                case 'hybrid':  // Add support for 'hybrid' from landing page
                    generateSimpleScenarios(container);
                    break;
                    
                case 'burial':
                    generateBurialScenarios(container);
                    break;
                    
                case 'unsure':
                case 'not_sure':
                    // Show educational table + 3 example scenarios
                    if (educationSection) {
                        educationSection.style.display = 'block';
                    }
                    generateUnsureScenarios(container);
                    break;
                    
                default:
                    // Fallback: show balanced scenarios
                    generateDefaultScenarios(container);
            }
            
            // Add UI clarity enhancements
            updateServiceTypeLabels(serviceType);
            highlightPersonalization(serviceType);
            updatePremiumMessaging(serviceType);
            
            // Track personalization for analytics
            trackPersonalization(serviceType);
        }
        
        /**
         * Update personalization header with service type
         */
        function updatePersonalizationHeader(serviceType) {
            const serviceNameElement = document.getElementById('selected-service-name');
            const serviceTypeEmphasisElement = document.getElementById('service-type-emphasis');
            const comparisonLinkContainer = document.getElementById('comparison-link-container');
            
            if (!serviceNameElement) return;
            
            const serviceNames = {
                'traditional': 'Traditional Funeral Service',
                'direct': 'Direct Cremation',
                'simple': 'Simple Service + Cremation',
                'hybrid': 'Simple Service + Cremation',  // Add support for 'hybrid' from landing page
                'burial': 'Burial Service',
                'unsure': 'All Service Options',
                'not_sure': 'All Service Options'
            };
            
            const displayName = serviceNames[serviceType] || 'All Service Options';
            serviceNameElement.textContent = displayName;
            
            // Update service type emphasis
            if (serviceTypeEmphasisElement) {
                serviceTypeEmphasisElement.textContent = displayName.toLowerCase();
            }
            
            // Show comparison link for unsure/not_sure service types
            if (comparisonLinkContainer) {
                if (serviceType === 'unsure' || serviceType === 'not_sure') {
                    comparisonLinkContainer.style.display = 'block';
                } else {
                    comparisonLinkContainer.style.display = 'none';
                }
            }
        }
        
        /**
         * Update service type labels throughout the page
         */
        function updateServiceTypeLabels(serviceType) {
            const serviceNames = {
                'traditional': 'Traditional Funeral Service',
                'direct': 'Direct Cremation',
                'simple': 'Simple Service + Cremation',
                'hybrid': 'Simple Service + Cremation',  // Add support for 'hybrid' from landing page
                'burial': 'Burial Service',
                'unsure': 'Multiple Options',
                'not_sure': 'Multiple Options'
            };
            
            // Update all places where service type is mentioned
            document.querySelectorAll('.dynamic-service-type').forEach(el => {
                el.textContent = serviceNames[serviceType] || serviceType;
            });
            
            // Update service type in FREE vs PREMIUM clarity section
            const clarityServiceType = document.querySelector('.free-vs-premium-clarity .dynamic-service-type');
            if (clarityServiceType) {
                clarityServiceType.textContent = serviceNames[serviceType] || 'your service';
            }
            
            // Update personalization header
            const selectedServiceName = document.getElementById('selected-service-name');
            if (selectedServiceName) {
                selectedServiceName.textContent = serviceNames[serviceType] || 'All Service Options';
            }
            
            // Update page title for better context
            updatePageTitle(serviceType, serviceNames[serviceType]);
        }
        
        /**
         * Highlight personalization throughout the page
         */
        function highlightPersonalization(serviceType) {
            // Add visual indicators that content is personalized
            if (serviceType !== 'unsure' && serviceType !== 'not_sure') {
                document.body.classList.add('personalized-content');
                
                // Add personalization indicators to scenarios
                setTimeout(() => {
                    document.querySelectorAll('.enhanced-scenario-card').forEach((card, index) => {
                        if (!card.querySelector('.personalization-badge')) {
                            const badge = document.createElement('div');
                            badge.className = 'personalization-badge';
                            badge.innerHTML = `<span class="badge-icon">âœ“</span> Optimized for ${getServiceTypeDisplayName(serviceType)}`;
                            card.insertBefore(badge, card.firstChild);
                        }
                    });
                }, 100); // Small delay to ensure cards are rendered
            } else {
                document.body.classList.remove('personalized-content');
            }
            
            // Add personalization to summary box
            updateSummaryPersonalization(serviceType);
        }
        
        /**
         * Update premium messaging based on service type
         */
        function updatePremiumMessaging(serviceType) {
            const serviceNames = {
                'traditional': 'Traditional Funeral Service',
                'direct': 'Direct Cremation',
                'simple': 'Simple Service + Cremation',
                'burial': 'Burial Service',
                'unsure': 'Complete Implementation Guide',
                'not_sure': 'Complete Implementation Guide'
            };
            
            // Update CTA buttons with service-specific messaging
            const ctaButtons = document.querySelectorAll('.cta-premium, .cta-primary-simple, .enhanced-cta-simple');
            ctaButtons.forEach(btn => {
                if (serviceType !== 'unsure' && serviceType !== 'not_sure') {
                    const originalText = btn.textContent.trim();
                    if (originalText.includes('Complete Guide') || originalText.includes('Implementation Guide')) {
                        btn.innerHTML = `Get Deep ${serviceNames[serviceType]} Implementation Guide - Â£49`;
                    }
                }
            });
            
            // Update premium section messaging
            updatePremiumSectionMessaging(serviceType, serviceNames[serviceType]);
        }
        
        /**
         * Get display name for service type
         */
        function getServiceTypeDisplayName(serviceType) {
            const displayNames = {
                'traditional': 'Traditional Services',
                'direct': 'Direct Cremation',
                'simple': 'Simple Services',
                'burial': 'Burial Services'
            };
            return displayNames[serviceType] || 'Your Service Type';
        }
        
        /**
         * Update page title for better context
         */
        function updatePageTitle(serviceType, serviceName) {
            if (serviceType !== 'unsure' && serviceType !== 'not_sure') {
                const titleElement = document.querySelector('.report-title');
                if (titleElement) {
                    const originalTitle = 'Your Funeral Cost Analysis';
                    titleElement.innerHTML = `${originalTitle}<br><span class="service-type-subtitle">${serviceName}</span>`;
                }
            }
        }
        
        /**
         * Update summary box with personalization
         */
        function updateSummaryPersonalization(serviceType) {
            const summaryBox = document.querySelector('.executive-summary');
            if (!summaryBox) return;
            
            if (serviceType !== 'unsure' && serviceType !== 'not_sure') {
                const personalizationNote = summaryBox.querySelector('.personalization-note');
                if (!personalizationNote) {
                    const note = document.createElement('div');
                    note.className = 'personalization-note';
                    note.innerHTML = `<span class="note-icon">ðŸŽ¯</span> Analysis tailored for ${getServiceTypeDisplayName(serviceType)}`;
                    summaryBox.appendChild(note);
                }
            } else {
                const personalizationNote = summaryBox.querySelector('.personalization-note');
                if (personalizationNote) {
                    personalizationNote.remove();
                }
            }
        }
        
        /**
         * Update premium section messaging
         */
        function updatePremiumSectionMessaging(serviceType, serviceName) {
            const premiumSection = document.querySelector('.premium-upgrade-section');
            if (!premiumSection) return;
            
            const titleElement = premiumSection.querySelector('h3');
            if (titleElement && serviceType !== 'unsure' && serviceType !== 'not_sure') {
                titleElement.innerHTML = `Complete ${serviceName} Implementation Guide - Â£49`;
            }
        }
        
        /**
         * Generate traditional service scenarios
         */
        function generateTraditionalScenarios(container) {
            const intro = document.createElement('p');
            intro.className = 'text-center-large';
            intro.textContent = 'Based on your preference for traditional funeral service, here are two optimisation approaches:';
            container.appendChild(intro);
            
            // Scenario 1: Conservative Traditional
            const scenario1 = createScenarioCard({
                title: 'Conservative Traditional',
                savings: 'Â£500-Â£800',
                percent: '10-15% savings',
                description: 'Keep traditional service while comparing providers and timing.',
                steps: [
                    'Compare several funeral directors',
                    'Request off-peak timing',
                    'Optimize transport'
                ],
                bestFor: 'Families wanting traditional service',
                timeNeeded: '2-3 hours'
            });
            container.appendChild(scenario1);
            
            // Scenario 2: Optimized Traditional (Recommended)
            const scenario2 = createScenarioCard({
                title: 'Optimized Traditional',
                savings: 'Â£1,200-Â£1,800',
                percent: '25-35% savings',
                description: 'Full traditional service with strategic provider selection for maximum savings.',
                steps: [
                    'Compare 5-8 traditional providers',
                    'Strategic timing optimization',
                    'Optimize transport options'
                ],
                bestFor: 'Families wanting maximum savings',
                timeNeeded: '4-6 hours',
                recommended: true
            });
            container.appendChild(scenario2);
        }
        
        /**
         * Generate direct cremation scenarios
         */
        function generateDirectScenarios(container) {
            const intro = document.createElement('p');
            intro.className = 'text-center-large';
            intro.textContent = 'Based on your preference for direct cremation, here are two optimisation approaches:';
            container.appendChild(intro);
            
            // Scenario 1: Standard Direct Cremation
            const scenario1 = createScenarioCard({
                title: 'Standard Direct Cremation',
                savings: 'Â£2,000-Â£2,500',
                percent: '45-60% savings',
                description: 'Find the most cost-effective direct cremation provider while maintaining quality standards.',
                steps: [
                    'Compare 3-5 direct cremation providers',
                    'Check for package deals'
                ],
                bestFor: 'Families wanting simple cremation',
                timeNeeded: '1-2 hours'
            });
            container.appendChild(scenario1);
            
            // Scenario 2: Direct + Separate Memorial (Recommended)
            const scenario2 = createScenarioCard({
                title: 'Direct + Separate Memorial',
                savings: 'Â£2,200-Â£2,800',
                percent: '50-65% savings',
                description: 'Direct cremation with separate memorial gathering for maximum savings and flexibility.',
                steps: [
                    'Direct cremation service',
                    'Separate memorial gathering',
                    'Flexible timing for memorial'
                ],
                bestFor: 'Families wanting flexibility',
                timeNeeded: '3-4 hours',
                recommended: true
            });
            container.appendChild(scenario2);
        }
        
        /**
         * Generate simple service scenarios
         */
        function generateSimpleScenarios(container) {
            const intro = document.createElement('p');
            intro.className = 'text-center-large';
            intro.textContent = 'Based on your preference for simple service + cremation, here are two optimisation approaches:';
            container.appendChild(intro);
            
            // Scenario 1: Simple Ceremony Package
            const scenario1 = createScenarioCard({
                title: 'Simple Ceremony Package',
                savings: 'Â£1,200-Â£1,600',
                percent: '30-40% savings',
                description: 'Simple crematorium service with strategic timing for meaningful but modest celebration.',
                steps: [
                    'Compare 3-5 crematorium packages',
                    'Optimize timing for better rates',
                    'Smaller gathering size'
                ],
                bestFor: 'Families wanting modest celebration',
                timeNeeded: '2-3 hours'
            });
            container.appendChild(scenario1);
            
            // Scenario 2: Hybrid Approach (Recommended)
            const scenario2 = createScenarioCard({
                title: 'Hybrid Approach',
                savings: 'Â£1,400-Â£1,900',
                percent: '35-45% savings',
                description: 'Cremation without attendance followed by separate celebration of life for maximum flexibility.',
                steps: [
                    'Direct cremation service',
                    'Separate celebration of life',
                    'Flexible timing for memorial'
                ],
                bestFor: 'Families wanting maximum flexibility',
                timeNeeded: '3-4 hours',
                recommended: true
            });
            container.appendChild(scenario2);
        }
        
        /**
         * Generate burial service scenarios
         */
        function generateBurialScenarios(container) {
            const intro = document.createElement('p');
            intro.className = 'text-center-large';
            intro.textContent = 'Based on your preference for burial service, here are two optimisation approaches:';
            container.appendChild(intro);
            
            // Scenario 1: Traditional Burial Optimized
            const scenario1 = createScenarioCard({
                title: 'Traditional Burial Optimized',
                savings: 'Â£800-Â£1,200',
                percent: '15-25% savings',
                description: 'Traditional burial service with strategic cemetery selection and material optimisation.',
                steps: [
                    'Compare 3-5 cemetery options',
                    'Optimize coffin materials',
                    'Compare transport options'
                ],
                bestFor: 'Families wanting traditional burial',
                timeNeeded: '3-4 hours'
            });
            container.appendChild(scenario1);
            
            // Scenario 2: Natural/Woodland Burial (Recommended)
            const scenario2 = createScenarioCard({
                title: 'Natural/Woodland Burial',
                savings: 'Â£1,500-Â£2,000',
                percent: '30-40% savings',
                description: 'Natural burial in woodland setting with biodegradable coffin for environmental choice and significant savings.',
                steps: [
                    'Natural burial ground',
                    'Biodegradable coffin',
                    'Natural memorial options'
                ],
                bestFor: 'Families wanting environmental choice',
                timeNeeded: '4-5 hours',
                recommended: true
            });
            container.appendChild(scenario2);
        }
        
        /**
         * Generate unsure scenarios (fallback)
         */
        function generateUnsureScenarios(container) {
            const intro = document.createElement('p');
            intro.className = 'text-center-large';
            intro.textContent = 'Here are two balanced optimisation approaches:';
            container.appendChild(intro);
            
            // Scenario 1: Traditional Service with Thoughtful Choices
            const scenario1 = createScenarioCard({
                title: 'Traditional Service with Thoughtful Choices',
                savings: 'Â£500-Â£800',
                percent: '10-15% savings',
                description: 'Maintain familiar funeral traditions while identifying unnecessary costs.',
                steps: [
                    'Compare local funeral directors',
                    'Explore off-peak scheduling',
                    'Review transport and venues'
                ],
                bestFor: 'Families wanting familiar traditions',
                timeNeeded: '2-3 hours'
            });
            container.appendChild(scenario1);
            
            // Scenario 2: Direct Cremation + Memorial Service (Recommended)
            const scenario2 = createScenarioCard({
                title: 'Direct Cremation + Memorial Service',
                savings: 'Â£1,500-Â£2,200',
                percent: '35-50% savings',
                description: 'Direct cremation followed by separate memorial service for maximum savings and flexibility.',
                steps: [
                    'Direct cremation service',
                    'Separate memorial gathering',
                    'Flexible timing and location'
                ],
                bestFor: 'Families wanting maximum savings',
                timeNeeded: '3-4 hours',
                recommended: true
            });
            container.appendChild(scenario2);
        }
        
        /**
         * Generate default scenarios (fallback)
         */
        function generateDefaultScenarios(container) {
            generateUnsureScenarios(container);
        }
        
        /**
         * Create a scenario card element
         */
        function createScenarioCard(data) {
            const card = document.createElement('div');
            card.className = 'enhanced-scenario-card';
            
            let html = '';
            
            if (data.recommended) {
                html += '<div class="recommended-text-simple">RECOMMENDED APPROACH</div>';
            }
            
            html += `
                <h3 class="enhanced-scenario-title">${data.title}</h3>
                
                <div class="savings-highlight">
                    <div class="savings-amount">${data.savings}</div>
                    <div class="savings-subtitle">${data.percent}</div>
                </div>
                
                <p class="enhanced-scenario-description">
                    ${data.description}
                </p>
                
                <ul class="enhanced-steps-list">
                    ${data.steps.map(step => `<li>${step}</li>`).join('')}
                </ul>
                
                <div class="enhanced-scenario-info">
                    <p><strong>Best for:</strong> ${data.bestFor}</p>
                    <p><strong>Time needed:</strong> ${data.timeNeeded}</p>
                </div>
            `;
            
            card.innerHTML = html;
            return card;
        }
        
        /**
         * Show service comparison table
         */
        function showServiceComparison() {
            const educationSection = document.getElementById('service-education-section');
            if (educationSection) {
                educationSection.style.display = educationSection.style.display === 'none' ? 'block' : 'none';
            }
        }
        
        /**
         * Enhanced error handling and performance optimization
         */
        function optimizeReportPerformance() {
            // Debounce scroll events for better performance
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(function() {
                    updateScrollProgress();
                }, 100);
            });
            
            // Lazy load images if any
            const images = document.querySelectorAll('img[data-src]');
            if (images.length > 0) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                            observer.unobserve(img);
                        }
                    });
                });
                
                images.forEach(img => imageObserver.observe(img));
            }
        }
        
        /**
         * Update scroll progress indicator
         */
        function updateScrollProgress() {
            const scrollProgress = document.querySelector('.scroll-progress');
            if (scrollProgress) {
                const scrollTop = window.pageYOffset;
                const docHeight = document.body.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                scrollProgress.style.width = scrollPercent + '%';
            }
        }
        
        /**
         * Add analytics tracking for personalization
         */
        function trackPersonalization(serviceType) {
            // Track which service type was selected
            if (typeof gtag !== 'undefined') {
                gtag('event', 'service_type_selected', {
                    'service_type': serviceType,
                    'page_location': window.location.href
                });
            }
            
            // Track scenario generation
            setTimeout(() => {
                const scenarioCount = document.querySelectorAll('.enhanced-scenario-card').length;
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'scenarios_generated', {
                        'service_type': serviceType,
                        'scenario_count': scenarioCount
                    });
                }
            }, 500);
        }
        
        /**
         * Initialize enhanced functionality
         */
        function initializeEnhancedFeatures() {
            // Add scroll progress bar
            addScrollProgressBar();
            
            // Initialize performance optimizations
            optimizeReportPerformance();
            
            // Add keyboard navigation
            addKeyboardNavigation();
        }
        
        /**
         * Add scroll progress bar
         */
        function addScrollProgressBar() {
            const progressBar = document.createElement('div');
            progressBar.className = 'scroll-progress-bar';
            progressBar.innerHTML = '<div class="scroll-progress"></div>';
            document.body.appendChild(progressBar);
        }
        
        /**
         * Add keyboard navigation support
         */
        function addKeyboardNavigation() {
            document.addEventListener('keydown', function(e) {
                // Alt + S to show service comparison
                if (e.altKey && e.key === 's') {
                    e.preventDefault();
                    showServiceComparison();
                }
                
                // Alt + P to scroll to personalization header
                if (e.altKey && e.key === 'p') {
                    e.preventDefault();
                    const personalizationHeader = document.querySelector('.personalization-header');
                    if (personalizationHeader) {
                        personalizationHeader.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        }
        
        /**
         * Test function to verify all service types show exactly 2 scenarios
         */
        function testAllServiceTypes() {
            const serviceTypes = ['traditional', 'direct', 'simple', 'burial', 'unsure'];
            const results = {};
            
            console.log('ðŸ§ª Testing all service types for 2 scenarios each...');
            
            serviceTypes.forEach(serviceType => {
                // Create a temporary container for testing
                const testContainer = document.createElement('div');
                
                // Test each generator function
                switch(serviceType) {
                    case 'traditional':
                        generateTraditionalScenarios(testContainer);
                        break;
                    case 'direct':
                        generateDirectScenarios(testContainer);
                        break;
                    case 'simple':
                        generateSimpleScenarios(testContainer);
                        break;
                    case 'burial':
                        generateBurialScenarios(testContainer);
                        break;
                    case 'unsure':
                        generateUnsureScenarios(testContainer);
                        break;
                }
                
                // Count scenarios
                const scenarioCount = testContainer.querySelectorAll('.enhanced-scenario-card').length;
                results[serviceType] = {
                    count: scenarioCount,
                    correct: scenarioCount === 2,
                    scenarios: Array.from(testContainer.querySelectorAll('.enhanced-scenario-title')).map(el => el.textContent)
                };
                
                console.log(`${serviceType}: ${scenarioCount} scenarios - ${results[serviceType].correct ? 'âœ…' : 'âŒ'}`);
                if (results[serviceType].scenarios.length > 0) {
                    console.log(`  Scenarios: ${results[serviceType].scenarios.join(', ')}`);
                }
            });
            
            // Summary
            const allCorrect = Object.values(results).every(r => r.correct);
            console.log(`\nðŸ“Š Test Results: ${allCorrect ? 'âœ… ALL PASSED' : 'âŒ SOME FAILED'}`);
            console.log('Results:', results);
            
            return results;
        }
        
        // Run test on page load (only in demo mode)
        if (!new URLSearchParams(window.location.search).get('serviceType')) {
            setTimeout(() => {
                console.log('ðŸŽ­ Demo mode detected - running scenario tests...');
                testAllServiceTypes();
            }, 1000);
        }
    </script>
</body>
</html>
